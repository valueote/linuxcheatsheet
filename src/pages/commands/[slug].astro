---
import BaseLayout from '@/layouts/BaseLayout.astro'
import { getCollection } from 'astro:content'
import type { CollectionEntry } from 'astro:content'

export async function getStaticPaths() {
  const entries = await getCollection('commands')
  return entries.map((entry) => ({ params: { slug: entry.slug }, props: { entry } }))
}

const { entry } = Astro.props as { entry: CollectionEntry<'commands'> }
const { Content } = await entry.render()
const { data } = entry
---
<BaseLayout title={`${data.title} - Linux Cheatsheet`}>
  <article class="max-w-none space-y-6" style={`view-transition-name:card-${entry.slug}` }>
    <h1 class="mb-2">{data.title}</h1>
    {data.description && <p class="lead text-fg-muted">{data.description}</p>}
    <div class="mt-8 space-y-6">
      <Content />
    </div>
  </article>
</BaseLayout>
