@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Mono Carbon (light) */
    --bg: 248 248 248; /* #f8f8f8 */
    --fg: 23 23 23; /* #171717 */
    --fg-muted: 100 116 139; /* slate-500 */
    --brand: 23 23 23; /* neutral emphasis */

    /* Motion tokens */
    --dur-fast: 160ms;
    --dur-base: 220ms;
    --dur-slow: 420ms;
    --ease-smooth: cubic-bezier(0.22,1,0.36,1);
  }

  [data-theme="dark"] {
    /* Mono Carbon (dark) */
    --bg: 12 12 14;
    --fg: 236 236 240;
    --fg-muted: 148 163 184;
    --brand: 255 255 255; /* neutral emphasis */
    color-scheme: dark;
  }

  html {
    color-scheme: light dark;
    background-color: rgb(var(--bg));
  }

  body {
    @apply text-fg bg-bg antialiased selection:bg-brand/20 selection:text-fg font-sans;
  }
}

@layer components {
  .glass {
    @apply bg-white/5 dark:bg-white/5 backdrop-blur-md border border-white/10 shadow-soft;
  }

  .card-hover {
    @apply transform-gpu will-change-transform transition duration-200 ease-smooth hover:-translate-y-0.5 hover:shadow-elevated active:translate-y-0 active:scale-[.995];
  }

  /* Reveal on enter */
  .reveal { @apply opacity-0 translate-y-1 transition duration-500 ease-smooth; }
  .reveal.show { @apply opacity-100 translate-y-0; }

  .interactive { @apply transition duration-200 ease-smooth; }

  /* Themed native select to follow current color scheme */
  .theme-select {
    color: rgb(var(--fg));
    background-color: transparent;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right .6rem center;
    background-size: 1rem 1rem;
  }
  .theme-select option { color: rgb(var(--fg)); background: rgb(var(--bg)); }

  /* Custom dropdown menu for tag filter */
  .shadow-elevated { box-shadow: 0 20px 40px -20px rgba(0,0,0,0.45); }
  #tag-menu { backdrop-filter: blur(10px); }
  #tag-menu .menu-item[aria-checked="true"] { @apply bg-white/10; }
}
